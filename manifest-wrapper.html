
<!-- Load the Polymer.Element base class -->
<link rel="import" href="bower_components/polymer/polymer-element.html">
<link rel="import" href="bower_components/paper-input/paper-input.html">
<link rel="import" href="bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="user-form.html">
<link rel="import" href="user-view.html">
<link rel="import" href="user-option.html">

<dom-module id="manifest-wrapper">
 
  <template>

    <style>

      :host {
        display: block;
        width: 100%;
        position: absolute;
        top:3vw;
      }
      
    </style>
    <user-option selected="{{selected}}"></user-option>
    <user-form data="{{formData}}" selected="[[selected]]"></user-form>
    <user-view data="[[formDataProxy(formData.*)]]" selected="[[selected]]"></user-view>
   
  </template>

  <script>

    // Extend Polymer.Element base class
    class ManifestWrapper extends Polymer.Element {

      static get is() { return 'manifest-wrapper' }
      
      static get properties() {
        return {
          formData: {
            type: Object,
            observer: 'formDataObserver',
            value: function() {
              return {};
            }
          }
        }
      }
      
      static get observers() {
        return [
          'formDataObserver(formData.*)'
        ]
      }

      constructor() {
        super();
      }
      
      connectedCallback() {
        super.connectedCallback();
        console.log(this.options);
      }

      formDataObserver(data) {
        console.log(data);
      }

      formDataProxy(dataKey) {
        return this.formData;
      }

    }

    // Register custom element definition using standard platform API
    customElements.define(ManifestWrapper.is, ManifestWrapper);

  </script>
</dom-module>
